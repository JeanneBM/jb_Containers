1.
- kubectl set resources deploy frontend-deployment --requests=memory=128Mi
- kubectl set resources deploy frontend-deployment --limits=memory=256Mi

2.
w podach ->
metadata:
  labels:
    role: allowed
w np ->
spec:
  podSelector:
    matchLabels:
      #app: my-app   # pody, które chcemy chronić
  policyTypes:
  - Ingress
  ingress:
  - from:
    - podSelector:
        matchLabels:
          role: allowed
    - podSelector:
        matchLabels:
          role: allowed

3. 
- kubectl create sa my-sa
- kubectl set sa deploy/frontend-deployment my-sa

4.
- K8s Doc wyszukiwarka: "--verb=get role"
#kubectl create role pod-reader --verb=get --verb=list --verb=watch --resource=pods
- kubectl create rolebinding pod-reader --role=pod-reader --serviceaccount=default:default

5.
- kubectl create secret generic my-secret --from-literal=key1=value1
- k edit deploy frontend-deployment
spec -> containers -> 
                      name:
                      image:
                      env:
                      - name: KEY1
                        value: "key1"
#kubectl set env deploy/frontend-deployment KEY1=$(kubectl get secret my-secret -o jsonpath='{.data.key1}' | base64 -d)

6.
engress
- K8s Doc wyszukiwarka: "ipBlock:"

7. 
- docker buildx build --tag myapp:1.2 --output type=oci,dest=myapp-1.2.tar .

8.
- kubectl create cronjob grep-cron --image=busybox -- /bin/sh -c 'grep -i pattern /etc/plik.conf'
+ 
spec:
  schedule="*/2 * * * *"
successfulJobsHistoryLimit
failedJobsHistoryLimit
activeDeadlineSeconds: 6   # ubij po 6 sekundach
restartPolicy (dla template podów)
backoffLimit

9. 
- kubectl version [*server]
- kubectl edit deployment frontend-deployment

10.
- k edit deploy - dodac kolejne label i zmienianie wersji

11.
- kubectl set resources deploy/frontend-deployment --limits=cpu=500m,memory=512Mi --requests=cpu=200m,memory=128Mi

12.
- kubectl create deploy web --image=nginx
- kubectl expose deploy web --port=80 --target-port=80 --type=NodePort

13. Canary
k edit deploy
+ K8s Doc wyszukiwarka: "rollingupdate"
spec:
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 0

k set image deployment/deploy image=image:2.0 --record

14.
- https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/ "path: /healthz"



